<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <title>Add Vehicle Details</title>
  <link rel="stylesheet" href="stylesIP.css">
</head>

<body>
  <header>
    <h1>Add Vehicle Details</h1>
  </header>
  <div class="card">
    <main>
      <form action="submit_vehicle.php" method="POST" id="vehicleForm" onsubmit="return false">
        <div id="section1">
          <div class="form-group">
            <label for="brand"><b>Brand:</b></label>
            <input type="text" id="brand" name="brand" required>
          </div>
          <div class="form-group">
            <label for="model"><b>Model:</b></label>
            <input type="text" id="model" name="model" required>
          </div>
          <div class="form-group">
            <label for="edition"><b>Edition:</b></label>
            <input type="text" id="edition" name="edition" required>
          </div>
          <div class="form-group">
            <label for="year"><b>Year:</b></label>
            <input type="text" id="year" name="year" required>
          </div>
          <div class="form-group">
            <label for="condition"><b>Condition:</b></label>
            <select id="condition" name="condition" required>
              <option value="Brand new">Brand new</option>
              <option value="Reconndition">Reconndition</option>
              <option value="Second Hand">Second Hand</option>
            </select>
          </div>
          <button onclick="nextSection(2)">Next</button>
        </div>

        <div id="section2" style="display: none;">
          <div class="form-group">
            <label for="No of owners"><b>No of owners:</b></label>
            <input type="text" id="No of owners" name="No of owners" required>
          </div>
          <div class="form-group">
            <label for="Transmission"><b>Transmission:</b></label>
            <select id="Transmission" name="Transmission" required>
              <option value="Auto">Auto</option>
              <option value="Manual">Manual</option>
            </select>
          </div>
          <div class="form-group">
            <label for="engineCapacity"><b>Engine Capacity:</b></label>
            <input type="text" id="engineCapacity" name="engineCapacity" required>
          </div>
          <div class="form-group">
            <label for="fuelType"><b>Fuel Type:</b></label>
            <select id="fuelType" name="fuelType" required>
              <option value="Petrol">Petrol</option>
              <option value="Diesel">Diesel</option>
              <option value="Electric">Electric</option>
              <option value="Hybrid">Hybrid</option>
            </select>
          </div>
          <div class="form-group">
            <label for="weight"><b>Weight:</b></label>
            <input type="text" id="weight" name="weight" required>
          </div>
          <div class="form-group">
            <label for="mileage"><b>Mileage:</b></label>
            <input type="text" id="mileage" name="mileage" required>
          </div>
          <button onclick="prevSection(1)">Previous</button>
          <button onclick="nextSection(3)" class="right-align">Next</button>

        </div>

        <div id="section3" style="display: none;">
          <div class="form-group">
            <label for="district"><b>District:</b></label>
            <select id="district" name="district" required>
              <option value="Colombo">Colombo</option>
              <option value="Gampaha">Gampaha</option>
              <option value="Kalutara">Kalutara</option>
              <option value="Kandy">Kandy</option>
              <option value="Matale">Matale</option>
              <option value="Nuwara Eliya">Nuwara Eliya</option>
              <option value="Galle">Galle</option>
              <option value="Matara">Matara</option>
              <option value="Hambantota">Hambantota</option>
              <option value="Jaffna">Jaffna</option>
              <option value="Kilinochchi">Kilinochchi</option>
              <option value="Mannar">Mannar</option>
              <option value="Vavuniya">Vavuniya</option>
              <option value="Mullaitivu">Mullaitivu</option>
              <option value="Batticaloa">Batticaloa</option>
              <option value="Ampara">Ampara</option>
              <option value="Trincomalee">Trincomalee</option>
              <option value="Kurunegala">Kurunegala</option>
              <option value="Puttalam">Puttalam</option>
              <option value="Anuradhapura">Anuradhapura</option>
              <option value="Polonnaruwa">Polonnaruwa</option>
              <option value="Badulla">Badulla</option>
              <option value="Moneragala">Moneragala</option>
              <option value="Ratnapura">Ratnapura</option>
              <option value="Kegalle">Kegalle</option>
            </select>
            <div class="form-group">
              <label for="base-price"><b>Base Price:</b></label>
              <input type="text" id="base-price" name="base-price" required>
            </div>
            <div class="form-group">
              <label for="description"><b>Description:</b></label>
              <textarea id="description" name="description" required></textarea>
            </div>
            <div class="image-preview" id="imagePreview"></div>
            <input id="files" type="file" multiple />

            <script>
              const previewContainer = document.getElementById('imagePreview');
              const filesInput = document.getElementById('files');

              filesInput.addEventListener('change', function () {
                const files = this.files;

                if (files.length > 5) {
                  alert('Please select up to 5 images');
                  this.value = '';
                  return;
                }

                if (files) {
                  Array.from(files).forEach(file => {
                    const reader = new FileReader();

                    reader.onload = () => {
                      const image = document.createElement('img');
                      image.src = reader.result;

                      const deleteButton = document.createElement('button');
                      deleteButton.innerHTML = 'Delete';

                      deleteButton.addEventListener('click', () => {
                        previewContainer.removeChild(image);
                        previewContainer.removeChild(deleteButton);
                      });

                      previewContainer.appendChild(image);
                      previewContainer.appendChild(deleteButton);
                    };

                    reader.readAsDataURL(file);
                  });
                }
              });
            </script>
            <button onclick="prevSection(2)">Previous</button>
            <button onclick="submitForm()" class="right-align">Add Vehicle</button>
          </div>
      </form>
    </main>

    <footer>
    </footer>

    <script>
      function nextSection(next) {
        document.getElementById('section' + next).style.display = 'block';
        document.getElementById('section' + (next - 1)).style.display = 'none';
      }

      function prevSection(prev) {
        document.getElementById('section' + prev).style.display = 'block';
        document.getElementById('section' + (prev + 1)).style.display = 'none';
      }

      function submitForm() {
        document.getElementById('vehicleForm').submit();
      }
    </script>
</body>

</html>
